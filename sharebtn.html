<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Share Counter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        button {
            padding: 10px 15px;
            font-size: 16px;
            background: #007BFF;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        p {
            font-size: 18px;
        }
    </style>
</head>
<body>

    <h2>My Article Title</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>

    <div>
        <button id="shareBtn">Share Article</button>
        <p>Total Shares: <span id="shareCount">0</span></p>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-database.js"></script>

    <script>
      // Firebase Config (apna config yahan paste karo)
      const firebaseConfig = {
        apiKey: "AIzaSyExampleKey",
        authDomain: "share-counter.firebaseapp.com",
        databaseURL: "https://share-counter-default-rtdb.firebaseio.com",
        projectId: "share-counter",
        storageBucket: "share-counter.appspot.com",
        messagingSenderId: "1234567890",
        appId: "1:1234567890:web:abc123def456"
      };

      // Firebase Init
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();

      // Unique Article ID
      const articleId = "article-1";

      // Reference for this article's shares
      const shareCountRef = db.ref("shares/" + articleId);

      // Show live count
      shareCountRef.on("value", (snapshot) => {
        document.getElementById("shareCount").textContent = snapshot.val() || 0;
      });

      // Share button click
      document.getElementById("shareBtn").addEventListener("click", () => {
        if (navigator.share) {
          navigator.share({
            title: document.title,
            url: window.location.href
          }).then(() => {
            // Increment count after successful share
            shareCountRef.transaction((current) => {
              return (current || 0) + 1;
            });
          }).catch((err) => {
            console.log("Share cancelled or failed:", err);
          });
        } else {
          // Browser does not support navigator.share
          alert("Sharing not supported, but we'll still count it.");
          shareCountRef.transaction((current) => {
            return (current || 0) + 1;
          });
        }
      });
    </script>

</body>
</html>
